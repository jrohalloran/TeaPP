<div class="app-wrapper">

  <!-- Top bar -->
<header class="top-bar">
  <div class="top-bar-content">
    <h1>TeaPP</h1>

    <button mat-button [matMenuTriggerFor]="menu" class="menu-button">
      Menu <mat-icon>arrow_drop_down</mat-icon>
    </button>

    <mat-menu #menu="matMenu">
      <button mat-menu-item (click)="onHome()">Home<mat-icon>home</mat-icon></button>
      <button mat-menu-item (click)="onUpload()">Upload<mat-icon>folder</mat-icon></button>
      <button mat-menu-item (click)="newAnalysis()">New Analysis<mat-icon>add</mat-icon></button>
      <button mat-menu-item (click)="onHelp()">Help<mat-icon>question_mark</mat-icon></button>
    </mat-menu>

    <button class="help-button" (click)="toggleHelpPanel()">
      <mat-icon>question_mark</mat-icon>
    </button>
  </div>
</header>

  <div class="help-panel" [class.open]="isHelpOpen">
  <div class="help-header">
    <h3>Help</h3>
    <button class="close-btn" (click)="toggleHelpPanel()">
      <mat-icon>close</mat-icon>
    </button>
  </div>
  <div class="help-content">
    <h3>Welcome to Profilea & Settings</h3>
    <p>Here you can manage your user profile and application settings.</p>
    <h4>Profile</h4>
    <p>User details are displayed here to view with the options to manage:</p>
    <p> - Change Passowrd (place-holder) - the user can update their password</p>
    <p> - Manage user access and privileges (place-holder)</p>

    <h4>Settings</h4>
    <p>Here the user can customise the settings of the application, including (place-holders):
    <p> - Font size</p>
    <p> - Colour theme</p>
    <p> - Pedigree Visualisation node theme</p>

    <p>When the user is happy with their selection, they can save their chosen settings by selecting the "Update" button</p>
  </div>
</div>  

<div class = "content-wrapper">
  <!-- New container above tabs -->
  <div class="top-container">
    <h2>Profile and Settings</h2>
    <p>Here you can update User Profile & App Settings</p>
  </div>
   <div class="main-panel-layout">
  <!-- Sidebar with navigation options -->
  <div class="sidebar">
    <button (click)="currentView = 'profile'" [class.active]="currentView === 'profile'">Profile</button>
    <button (click)="currentView = 'settings'" [class.active]="currentView === 'settings'">Settings</button>
  </div>

  <!-- Dynamic content area -->
  <div class="main-content-area">
    <div *ngIf="currentView === 'profile'">
      <h2>Profile</h2>
      <img src="reshot-icon-user-ZXFJAEQURK.svg" alt="User image" class="profile-img"/>

      <p>Username: {{currentUser}}</p>
      <p>Email Address: {{currentUser}}&#64;example.com</p>

      <p>Change password:</p>

      <h3>Select User Privileges</h3>

      <div *ngFor="let privilege of allPrivileges">
        <label>
          <input
            type="checkbox"
            [checked]="isSelected(privilege)"
            (change)="togglePrivilege(privilege)"
          />
          {{ privilege }}
        </label>
      </div>

<hr />


  </div>




  <div *ngIf="currentView === 'settings'">
      <h2>Settings<mat-icon>settings</mat-icon></h2>
  <p></p>
  <h3>Font Size</h3>
  <div style="margin-bottom: 16px;">
  <label for="fontSizeSelect">Select font size: </label>
  <select id="fontSizeSelect" [(ngModel)]="fontSize">
    <option *ngFor="let size of fontSizes" [value]="size">
      {{ size }}px
    </option>
  </select>
</div>
<div [ngStyle]="{ 'font-size.px': fontSize }" class="text-preview">
  This is a preview of your selected font size.
</div>

<h3>Colour Theme</h3>
<div style="margin-bottom: 16px;">
  <label for="themeSelector">Select Color Theme: </label>
  <select id="themeSelector" [(ngModel)]="selectedTheme2">
    <option *ngFor="let theme of colorThemes" [ngValue]="theme">
      {{ theme.name }}
    </option>
  </select>
</div>

<div
  [ngStyle]="{
    'background-color': selectedTheme2.background,
    'color': selectedTheme2.text,
    'padding': '20px',
    'border-radius': '8px'
  }"
>
  <h2>Preview Area</h2>
  <p>This content will change color based on the selected theme.</p>
</div>

<h3>Node Colour Palette</h3>
<div style="display: flex; gap: 16px; flex-wrap: wrap; margin-bottom: 24px;">
  <div
    *ngFor="let palette of palettes"
    (click)="selectedPalette = palette"
    [style.border]="selectedPalette === palette ? '3px solid #000' : '2px solid #ccc'"
    style="cursor: pointer; border-radius: 6px; padding: 4px; display: flex;"
  >
    <div
      *ngFor="let color of palette.colors"
      [style.background]="color"
      style="width: 24px; height: 24px; margin-right: 4px; border-radius: 4px;"
    ></div>
  </div>
</div>


</div>








    <div *ngIf="currentView === 'notifications'">
      <h4>Notifications</h4>
      <p>Notification preferences here.</p>
    </div>
    <button class= "update-button">Update</button>
  </div>
</div>
 </div>
